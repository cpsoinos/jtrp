<div class="btn-group dropup">
  <button type="button" class="btn btn-raised btn-primary btn-fab dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    <i class='material-icons'>menu</i>
  </button>
  <ul class="dropdown-menu dropdown-menu-right fab-menu">

    <li><%= link_to "<i class='material-icons'>edit</i> Edit".html_safe, edit_agreement_path(agreement) %></li>
    <li><%= link_to "<i class='material-icons'>delete_forever</i> Delete".html_safe, agreement_path(agreement), method: :delete, data: {confirm: "Are you sure?", :'confirm-button-text' => "Yes, I'm sure", :'cancel-button-text' => "No, cancel!", :'sweet-alert-type' => 'warning', :'confirm-button-color' => '#f44336', text: "This will delete the item. This is irreversable."} %></li>

    <li role="separator" class="divider"></li>

    <li>
      <%= link_to "<i class='material-icons'>email</i> Send Agreement".html_safe, "", data: { toggle: "modal", target: "#agreement-note-modal" } %>
    </li>

    <% if agreement.active? && agreement.items.any? { |i| i.potential? } %>
      <li>
        <%= link_to "<i class='material-icons'>store</i> Mark Items Active".html_safe, agreement_activate_items_path(agreement), method: :post %>
      </li>
    <% end %>

    <% if agreement.active? && agreement.items.any? { |i| i.meets_requirements_expired? } %>
      <li>
        <%= link_to "<i class='material-icons'>store</i> Mark Items Expired".html_safe, "", data: { toggle: "modal", target: "#agreement-#{agreement.id}-task-modal" } %>
      </li>
    <% end %>

    <li>
      <%= link_to "<i class='material-icons'>label</i> Print Labels".html_safe, labels_items_url(by_id: items.map(&:id)), target: "blank" %>
    </li>

    <li>
      <%= link_to "<i class='material-icons'>print</i> Print".html_safe, agreement.pdf_url, target: "blank" %>
    </li>

  </ul>
</div>

<% meta title: "Order List - #{@company.name}" %>
<% breadcrumb :orders %>

<div class="row">
  <div class="col-sm-12 text-center">
    <h1 class="company-title">Orders</h1>
  </div>
</div>

<div class="row">
  <div class="col-xs-12 col-sm-10 col-sm-offset-1" id="orders">
    <table class="table table-striped table-bordered table-hover purchase-list">
      <thead class="thead-inverse">
        <tr class="text-center">
          <th>Date</th>
          <th>Employee</th>
          <th>Customer</th>
          <th>No. of Items</th>
          <th>Amount</th>
        </tr>
      </thead>
      <tbody>
        <div class="text-center" id="loader">
          <div class="showbox"><div class="loader"><svg class="circular" viewBox="25 25 50 50"><circle class="path" cx="50" cy="50" r="20" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg></div></div>
        </div>
        <tr is="order-row" v-for="order in orders" :order="order"></tr>
      </tbody>
    </table>
  </div>

</div>

<script type="text/x-template" id="order-row">
  <tr v-bind:id="order.id">
    <td>{{ order.created_at | moment }}</td>
    <td>{{ order.employee | fullName }}</td>
    <td>{{ order.customer | fullName }}</td>
    <td>{{ order.items.length }}</td>
    <td>{{ order.amount_cents | currency }}</td>
  </tr>
</script>
